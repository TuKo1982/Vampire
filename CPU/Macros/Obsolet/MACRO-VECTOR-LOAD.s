*******************************************************************************
*
* APOLLO-Core - SILVER 8
* 
* VLOAD  - Vector Load
* VSTORE - Vector Store
* 
* Syntax:
* 
* VLOAD (An)+,Vn
* VSTORE Vn,(An)+
* 
* Example:
* 
* VLOAD  (a0)+,v4 => $FF180401
* VSTORE v4,(a0)+ => $FF184002
* 
* Encoding:
* 
*    VLOAD    1   An    0   Vn    0    1
*      $FF   $1   $8   $0   $4   $0   $1
* 11111111 0001 1000 0000 0100 0000 0001
*
*   VSTORE    1   An   Vn    0    0    2
*      $FF   $1   $8   $4   $0   $0   $2
* 11111111 0001 1000 0100 0000 0000 0010
* 
*******************************************************************************

;------------------------------------------------------------------------------
; VLOAD (An)+,Vn
;------------------------------------------------------------------------------

VLOAD MACRO
	dc.l ($ff100000|($10000*(8+\1)))|(($0100*(\2))|1)
	ENDM

;------------------------------------------------------------------------------
; VSTORE Vn,(An)+
;------------------------------------------------------------------------------

VSTORE MACRO
	dc.l ($ff100000|($10000*(8+\1)))|(($1000*(\2))|2)
	ENDM

;------------------------------------------------------------------------------
; MAIN PROGRAM
;------------------------------------------------------------------------------

main:

	VLOAD  0,4  ; VLOAD  (A0)+,V4
	VLOAD  2,5  ; VLOAD  (A2)+,V5

	VSTORE 0,4  ; VSTORE V4,(A0)+
	VSTORE 2,5  ; VSTORE V5,(A2)+
	
	stop #1
	rts
	